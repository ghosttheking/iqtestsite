<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>IQ Test — Discover your potential</title>
<meta name="description" content="35-question IQ test. Save progress and continue later." />
<style>
:root{
  --bg1:#071a52; --accent1:#0b66ff; --accent2:#63a4ff; --card:#ffffff; --muted:#6b7280;
}
*{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg1),#0b1b45 60%);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#0b1b2e;}
body{padding:18px;display:flex;align-items:center;justify-content:center;}
.app{width:100%;max-width:960px;background:var(--card);border-radius:14px;box-shadow:0 20px 60px rgba(2,6,23,0.35);overflow:hidden;}
/* SPLASH */
.splash{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white;padding:34px 28px;text-align:center;}
.logo{width:86px;height:86px;border-radius:16px;background:rgba(255,255,255,0.12);display:inline-flex;align-items:center;justify-content:center;font-weight:800;font-size:28px;margin-bottom:14px;}
.title{font-size:24px;margin:0 0 8px;}
.subtitle{font-size:14px;opacity:0.95;margin:0 0 14px;line-height:1.4;}
.cta-row{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:10px;}
.btn-primary{background:#fff;color:var(--accent1);border:none;padding:12px 18px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(11,102,255,0.12);}
.btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.18);color:#fff;padding:10px 14px;border-radius:10px;cursor:pointer;}
.btn-secondary{background:rgba(255,255,255,0.08);border:none;color:#fff;padding:10px 14px;border-radius:10px;cursor:pointer;}
.animated-dots{margin-top:8px;}
.dot{display:inline-block;width:8px;height:8px;margin:0 4px;border-radius:50%;background:rgba(255,255,255,0.9);opacity:0.4;animation:blink 1.2s infinite ease-in-out;}
.dot:nth-child(2){animation-delay:.15s}.dot:nth-child(3){animation-delay:.3s}
@keyframes blink{0%{opacity:.2;transform:translateY(0)}50%{opacity:1;transform:translateY(-6px)}100%{opacity:.2;transform:translateY(0)}}

/* MAIN */
.main{padding:22px 26px;display:none;}
.topbar{display:flex;gap:12px;align-items:center;justify-content:space-between;}
.brand{display:flex;gap:12px;align-items:center;}
.brand .mini{width:44px;height:44;border-radius:10px;background:linear-gradient(90deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;color:white;font-weight:800}
.lead{color:var(--muted);margin-top:10px;font-size:15px;}
.quiz{margin-top:18px;min-height:220px;}
.question-card{background:#fff;padding:18px;border-radius:12px;border:1px solid #eef2ff;box-shadow:0 6px 18px rgba(11,102,255,0.03);}
.q-title{font-weight:700;font-size:18px;margin-bottom:12px;color:#0b1b2e}
.choices{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.choice{padding:12px;border-radius:10px;border:1px solid #e6eefc;background:#fff;cursor:pointer;transition:all .12s;font-size:15px;text-align:left;}
.choice:hover{transform:translateY(-4px);background:#f6fbff}
.choice.selected{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white;border-color:transparent;box-shadow:0 8px 20px rgba(11,102,255,0.12)}

/* FOOTER */
.footer{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:16px;flex-wrap:wrap;}
.progress-wrap{display:flex;gap:12px;align-items:center;}
.progress-bar{width:320px;max-width:60vw;height:12px;background:#eef2ff;border-radius:10px;overflow:hidden;}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent2),var(--accent1));width:0%;transition:width .35s;}
.counter{font-size:13px;color:var(--muted);}
.controls{display:flex;gap:8px;align-items:center;}
.btn-small{background:var(--accent1);color:white;border:none;padding:9px 12px;border-radius:9px;cursor:pointer;font-weight:700}
.btn-outline{background:transparent;border:1px solid #e6eefc;padding:8px 12px;border-radius:9px;cursor:pointer;color:#0b1b2e}

/* RESULT */
.result-card{margin-top:18px;background:#f8fbff;padding:18px;border-radius:12px;border:1px dashed #e6eefc;display:none;}
.small{font-size:13px;color:var(--muted)}
.pay-wrap{margin-top:12px;display:flex;gap:10px;align-items:center;flex-wrap:wrap;flex-direction:column;}
.pay-button{background:linear-gradient(90deg,#ff4c4c,#ff9900);color:white;padding:12px 18px;border-radius:12px;text-decoration:none;font-weight:800;box-shadow:0 10px 30px rgba(11,102,255,0.12)}
.report{margin-top:14px;display:none;background:#fff;padding:16px;border-radius:10px;border:1px solid #eef6ff}
.report h3{color:var(--accent1);margin:0 0 8px 0}
.report p{color:#233;line-height:1.45}
.report .detail{font-size:13px;margin-top:8px;padding:8px;border-radius:8px;background:#f6fbff;border:1px solid #eef6ff}

/* MODAL */
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);align-items:center;justify-content:center;padding:20px;z-index:1000;}
.modal-content{background:white;padding:20px;border-radius:12px;max-width:640px;width:100%;position:relative;}
.closeModal{position:absolute;right:12px;top:10px;cursor:pointer;font-weight:700;font-size:18px;color:#666}

/* RESUME BANNER */
.resume-banner{background:#fff6db;padding:10px;border-radius:10px;border:1px solid #fde3a7;margin-top:12px;text-align:center}
@media(max-width:620px){.choices{grid-template-columns:1fr}.progress-bar{width:220px}}
</style>
</head>
<body>
<div class="app">
  <!-- SPLASH -->
  <section id="splash" class="splash" aria-hidden="false">
    <div style="padding:26px 20px;text-align:center;">
      <div class="logo">IQ</div>
      <div class="title">Discover your true IQ</div>
      <div class="subtitle">35 quick questions • ~6–8 minutes • Immediate, private result</div>
      <div class="animated-dots" aria-hidden="true"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>

      <div class="cta-row" style="margin-top:18px;">
        <button id="startBtn" class="btn-primary" aria-label="Start test">Start Test</button>
        <button id="startDemo" class="btn-ghost" aria-label="How it works">How it works</button>
      </div>

      <div id="resumeContainer" aria-live="polite"></div>
    </div>
  </section>

  <!-- MAIN -->
  <section id="main" class="main" style="display:none" aria-hidden="true">
    <div class="topbar">
      <div class="brand">
        <div class="mini">IQ</div>
        <div>
          <div style="font-weight:800;font-size:18px">IQ Test — Discover your potential</div>
          <div class="small" id="subLead">Your progress is saved automatically.</div>
        </div>
      </div>
    </div>

    <div class="lead" id="leadText">This test is anonymous and estimates your cognitive strengths. Answer without overthinking.</div>

    <div class="quiz" id="quiz" role="application" aria-atomic="true"></div>

    <div class="footer">
      <div class="progress-wrap">
        <div class="counter"><span id="qcount">1</span>/35</div>
        <div class="progress-bar" aria-hidden="true"><div id="progressFill" class="progress-fill"></div></div>
      </div>

      <div class="controls">
        <button id="btnPrev" class="btn-outline" aria-label="Previous question">Previous</button>
        <button id="btnNext" class="btn-small" aria-label="Next question">Next</button>
        <button id="btnFinish" class="btn-small" aria-label="Finish test" style="display:none">Finish</button>
      </div>
    </div>

    <div id="resultBlock" class="result-card" role="region" aria-live="polite">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
        <div>
          <div class="small">You answered</div>
          <div style="font-weight:800;font-size:18px" id="scoreText">-- / 35</div>
          <div class="small" id="performanceText">Performance: —</div>
        </div>

        <div style="text-align:center">
          <div class="small" style="margin-bottom:8px">Unlock your full IQ report</div>
          <a id="mpLink" class="pay-button" href="#" target="_blank" rel="noopener">Unlock for $13</a>
          <div style="margin-top:18px"><button id="btnIvePaid" class="btn-outline">I've paid</button></div>
        </div>
      </div>

      <div id="report" class="report" aria-live="polite">
        <h3 id="reportTitle">Full Report</h3>
        <p id="reportBody"></p>
        <div id="reportDetails" class="detail" style="display:none"></div>
        <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
          <button id="btnShare" class="btn-small">Share</button>
          <button id="btnCopy" class="btn-outline">Copy result</button>
        </div>
      </div>
    </div>

    <div style="padding:18px 0;text-align:center;color:var(--muted);font-size:13px">© 2025 — IQ Test</div>
  </section>
</div>

<!-- HOW IT WORKS MODAL (no mention of payment) -->
<div id="howModal" class="modal" aria-hidden="true">
  <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="howTitle">
    <span class="closeModal" id="closeModal" aria-label="Close">&times;</span>
    <h3 id="howTitle">How it works</h3>
    <p>This IQ test contains 35 short questions that assess logical reasoning, pattern recognition and problem solving. Answer quickly and honestly — don't overthink your answers. Your progress is saved automatically and you can resume later where you left off.</p>
    <p>After finishing the test you'll see your estimated score and an option to unlock a detailed report.</p>
  </div>
</div>

<script>
/* ---------------- CONFIG ---------------- */
const MP_LINK = "https://mpago.la/2UqEUEx"; // payment link used only at the result stage
const STORAGE_KEY_ANS = 'iq_answers_v2';
const STORAGE_KEY_IDX = 'iq_index_v2';
const STORAGE_KEY_PAID = 'iq_paid_v2';

/* ---------------- QUESTIONS (35) ---------------- */
const QUESTIONS = [
{q:"1. Which number comes next: 2, 4, 8, 16, ?", choices:["18","24","32","34"], correct:2},
{q:"2. DOG is to MAMMAL as SWALLOW is to ?", choices:["FISH","BIRD","REPTILE","INSECT"], correct:1},
{q:"3. Which does NOT belong: square, rectangle, circle, diamond?", choices:["square","rectangle","circle","diamond"], correct:2},
{q:"4. Solve: 7 × 6 − 8 =", choices:["34","36","38","40"], correct:0},
{q:"5. Which word does not fit: pen, pencil, notebook, ruler?", choices:["pen","pencil","notebook","ruler"], correct:2},
{q:"6. If today is Tuesday, what day will it be in 3 days?", choices:["Friday","Thursday","Saturday","Wednesday"], correct:2},
{q:"7. Next number: 1,1,2,3,5,8,?", choices:["10","11","12","13"], correct:3},
{q:"8. If all roses are flowers and some flowers wilt, can we say all roses wilt?", choices:["Yes","No","Sometimes","Impossible to know"], correct:1},
{q:"9. Synonym of 'fast'?", choices:["Slow","Quick","Weak","Morbid"], correct:1},
{q:"10. Train leaves at 10 and travels 120 km in 2 hours. Average speed?", choices:["40 km/h","50 km/h","60 km/h","70 km/h"], correct:2},
{q:"11. If A > B and B > C, then A is ____ C.", choices:["smaller than","greater than","equal to","not related"], correct:1},
{q:"12. Complete the rhyme: 'Cat on the roof, mouse on the ___.'", choices:["peak","hole","bread","frog"], correct:0},
{q:"13. Which number is prime?", choices:["21","29","27","33"], correct:1},
{q:"14. If tomorrow is Thursday, what day is today?", choices:["Friday","Wednesday","Tuesday","Sunday"], correct:1},
{q:"15. How many sides does a hexagon have?", choices:["5","6","7","8"], correct:1},
{q:"16. If 5 shirts cost 100, how much is one?", choices:["10","15","20","25"], correct:2},
{q:"17. Analogy: 'Key is to door' as 'pen is to ___'", choices:["paper","book","ink","writing"], correct:3},
{q:"18. Solve: (9 + 3) ÷ 3 =", choices:["2","3","4","6"], correct:2},
{q:"19. Which figure follows: circle, square, circle, square, ?", choices:["circle","triangle","rectangle","pentagon"], correct:0},
{q:"20. If 2x = 10, x = ?", choices:["4","5","6","8"], correct:1},
{q:"21. Opposite of 'optimistic'?", choices:["positive","pessimistic","happy","active"], correct:1},
{q:"22. What number is missing: 10, 7, 4, ?, -2", choices:["1","0","-1","2"], correct:0},
{q:"23. If 3=C, 1=A, 20=T, what word is 20-1-3-8-15?", choices:["TACHO","TACOS","TACOH","TACOS"], correct:1},
{q:"24. Result of 12 - (3×2)?", choices:["4","6","8","10"], correct:2},
{q:"25. Which letter completes: A, C, E, G, ?", choices:["I","H","J","K"], correct:0},
{q:"26. Map scale: 1 cm = 10 km. 3 cm = ? km", choices:["10","20","30","40"], correct:2},
{q:"27. Which is greater: 0.75 or 3/4?", choices:["0.75","3/4","they are equal","not possible"], correct:2},
{q:"28. Which is an even number?", choices:["13","22","37","49"], correct:1},
{q:"29. If a train travels 60 km/h for 2 hours, how far?", choices:["100 km","110 km","120 km","130 km"], correct:2},
{q:"30. Synonym of 'happy'?", choices:["Sad","Joyful","Angry","Lazy"], correct:1},
{q:"31. Which shape has 3 sides?", choices:["Square","Triangle","Rectangle","Circle"], correct:1},
{q:"32. Solve: 5 + 7 × 2", choices:["19","24","14","26"], correct:0},
{q:"33. Which number is smallest?", choices:["0.9","0.99","0.909","0.89"], correct:3},
{q:"34. If John is taller than Mike and Mike is taller than Tom, who is shortest?", choices:["John","Mike","Tom","Cannot know"], correct:2},
{q:"35. Complete series: 2, 4, 8, 16, 32, ?", choices:["48","64","62","50"], correct:1}
];

/* ---------------- STATE ---------------- */
let index = parseInt(localStorage.getItem(STORAGE_KEY_IDX), 10);
if (!Number.isInteger(index) || index < 0) index = 0;
let answers = JSON.parse(localStorage.getItem(STORAGE_KEY_ANS));
if (!Array.isArray(answers) || answers.length !== QUESTIONS.length) answers = Array(QUESTIONS.length).fill(null);
let paid = localStorage.getItem(STORAGE_KEY_PAID) === 'true';

/* ---------------- ELEMENTS ---------------- */
const quizEl = document.getElementById('quiz');
const qcountEl = document.getElementById('qcount');
const progressFillEl = document.getElementById('progressFill');
const btnPrev = document.getElementById('btnPrev');
const btnNext = document.getElementById('btnNext');
const btnFinish = document.getElementById('btnFinish');
const startBtn = document.getElementById('startBtn');
const startDemo = document.getElementById('startDemo');
const splash = document.getElementById('splash');
const mainSection = document.getElementById('main');
const resumeContainer = document.getElementById('resumeContainer');
const howModal = document.getElementById('howModal');
const closeModal = document.getElementById('closeModal');
const mpLinkEl = document.getElementById('mpLink');
const resultBlock = document.getElementById('resultBlock');
const scoreText = document.getElementById('scoreText');
const performanceText = document.getElementById('performanceText');
const btnIvePaid = document.getElementById('btnIvePaid');
const reportEl = document.getElementById('report');
const reportBody = document.getElementById('reportBody');
const reportDetails = document.getElementById('reportDetails');
const btnCopy = document.getElementById('btnCopy');
const btnShare = document.getElementById('btnShare');

/* ---------------- HELPERS ---------------- */
function saveProgress(){ localStorage.setItem(STORAGE_KEY_ANS, JSON.stringify(answers)); localStorage.setItem(STORAGE_KEY_IDX, String(index)); }
function clearProgress(){ localStorage.removeItem(STORAGE_KEY_ANS); localStorage.removeItem(STORAGE_KEY_IDX); }
function classification(iq){ if(iq>=130) return 'Very superior'; if(iq>=120) return 'Superior'; if(iq>=110) return 'Above average'; if(iq>=90) return 'Average'; if(iq>=80) return 'Below average'; return 'Very below average'; }

/* ---------------- RENDER QUESTION ---------------- */
function renderQuestion(){
  quizEl.innerHTML = '';
  const q = QUESTIONS[index];
  const card = document.createElement('div'); card.className = 'question-card';
  const title = document.createElement('div'); title.className = 'q-title'; title.textContent = q.q;
  card.appendChild(title);

  const choices = document.createElement('div'); choices.className = 'choices';
  q.choices.forEach((c,i)=>{
    const ch = document.createElement('div');
    ch.className = 'choice';
    ch.tabIndex = 0;
    ch.textContent = c;
    ch.dataset.index = i;
    if (answers[index] === i) ch.classList.add('selected');
    ch.addEventListener('click', () => {
      answers[index] = i;
      // mark visually
      choices.querySelectorAll('.choice').forEach(x => x.classList.remove('selected'));
      ch.classList.add('selected');
      saveProgress();
    });
    ch.addEventListener('keydown', (e)=>{ if (e.key==='Enter' || e.key===' ') ch.click(); });
    choices.appendChild(ch);
  });
  card.appendChild(choices);
  quizEl.appendChild(card);

  // footer update
  qcountEl.textContent = index + 1;
  const pct = Math.round(((index + 1) / QUESTIONS.length) * 100);
  progressFillEl.style.width = pct + '%';

  // Prev/Next/Finish visibility
  btnPrev.style.display = index === 0 ? 'none' : 'inline-block';
  if (index === QUESTIONS.length - 1) {
    btnNext.style.display = 'none';
    btnFinish.style.display = 'inline-block';
  } else {
    btnNext.style.display = 'inline-block';
    btnFinish.style.display = 'none';
  }
}

/* ---------------- NAVIGATION ---------------- */
btnNext.addEventListener('click', ()=>{
  if (answers[index] === null){ alert('Please select an answer before continuing.'); return; }
  if (index < QUESTIONS.length - 1){ index++; saveProgress(); renderQuestion(); }
});

btnPrev.addEventListener('click', ()=>{
  if (index > 0){ index--; saveProgress(); renderQuestion(); }
});

btnFinish.addEventListener('click', ()=>{
  if (answers[index] === null){ alert('Please select an answer for the last question.'); return; }
  showResults();
});

/* ---------------- START / RESUME / MODAL ---------------- */
function injectResumeBanner(){
  resumeContainer.innerHTML = '';
  const anyAnswered = answers.some(a => a !== null);
  if (anyAnswered || (index && index > 0)){
    const banner = document.createElement('div');
    banner.className = 'resume-banner';
    banner.innerHTML = `<strong>Unfinished test found.</strong> <button id="btnResume" class="btn-secondary">Resume</button> <button id="btnRestart" class="btn-secondary" style="margin-left:8px">Start Over</button>`;
    resumeContainer.appendChild(banner);
    document.getElementById('btnResume').addEventListener('click', ()=>{
      splash.style.display = 'none';
      mainSection.style.display = 'block';
      renderQuestion();
    });
    document.getElementById('btnRestart').addEventListener('click', ()=>{
      if (!confirm('Clear saved progress and start over?')) return;
      answers = Array(QUESTIONS.length).fill(null);
      index = 0;
      clearProgress();
      splash.style.display = 'none';
      mainSection.style.display = 'block';
      renderQuestion();
    });
  }
}

startDemo.addEventListener('click', ()=>{
  howModal.style.display = 'flex';
  howModal.setAttribute('aria-hidden','false');
});
closeModal.addEventListener('click', ()=>{ howModal.style.display = 'none'; howModal.setAttribute('aria-hidden','true'); });
window.addEventListener('click', (e)=>{ if (e.target === howModal){ howModal.style.display = 'none'; howModal.setAttribute('aria-hidden','true'); } });

startBtn.addEventListener('click', ()=>{
  splash.style.display = 'none';
  mainSection.style.display = 'block';
  renderQuestion();
});

/* ---------------- RESULTS & PAYMENT (appears ONLY after finish) ---------------- */
mpLinkEl.href = MP_LINK;

function showResults(){
  // calculate score
  let score = 0;
  for (let i=0;i<QUESTIONS.length;i++){ if (answers[i] === QUESTIONS[i].correct) score++; }
  scoreText.textContent = `${score} / ${QUESTIONS.length}`;
  let perf = '';
  if (score >= 30) perf = 'Genius level';
  else if (score >= 25) perf = 'Above average';
  else if (score >= 18) perf = 'Average';
  else perf = 'Below average';
  performanceText.textContent = perf;

  // show result block (payment/UI appears here only)
  resultBlock.style.display = 'block';
  // ensure progress bar full
  progressFillEl.style.width = '100%';
  // remove resume index (test considered completed) but keep answers saved so report can be built after payment
  localStorage.removeItem(STORAGE_KEY_IDX);
  localStorage.setItem(STORAGE_KEY_ANS, JSON.stringify(answers));
}

/* Simulated unlock (client-side). In production, replace with server-side payment verification. */
btnIvePaid.addEventListener('click', ()=>{
  localStorage.setItem(STORAGE_KEY_PAID, 'true');
  paid = true;
  revealFullReport();
});

/* Reveal full report if paid */
function revealFullReport(){
  const savedAnswers = JSON.parse(localStorage.getItem(STORAGE_KEY_ANS)) || answers;
  let correctCount = 0;
  let details = '<ol style="padding-left:18px">';
  for (let i=0;i<QUESTIONS.length;i++){
    const q = QUESTIONS[i];
    const user = savedAnswers[i];
    const userText = user === null ? '<em>No answer</em>' : q.choices[user];
    const correctText = q.choices[q.correct];
    const mark = user === q.correct ? '✅' : '❌';
    if (user === q.correct) correctCount++;
    details += `<li style="margin-bottom:8px"><strong>${q.q}</strong><div>Your answer: ${userText} ${mark}</div><div style="color:#0b66ff">Correct: ${correctText}</div></li>`;
  }
  details += '</ol>';
  const estIQ = Math.round(70 + (correctCount / QUESTIONS.length) * 60);
  reportBody.innerHTML = `<strong>Estimated IQ:</strong> ${estIQ}<br><strong>Score:</strong> ${correctCount}/${QUESTIONS.length}<br><strong>Classification:</strong> ${classification(estIQ)}<br><br><strong>Quick tips:</strong><ul><li>Practice logic puzzles and pattern games.</li><li>Read challenging texts to strengthen verbal skills.</li><li>Prioritize sleep and concentration exercises.</li></ul>`;
  reportDetails.innerHTML = details;
  reportDetails.style.display = 'block';
  reportEl.style.display = 'block';
}

/* copy & share functionality */
btnCopy.addEventListener('click', ()=>{
  const txt = reportBody.innerText + '\n\nFull details available after unlock.';
  navigator.clipboard.writeText(txt).then(()=> alert('Report copied to clipboard!'), ()=> alert('Copy failed'));
});
btnShare.addEventListener('click', ()=>{
  const txt = `I completed the IQ Test. ${reportBody.innerText.split('\n')[0] || ''}`;
  if (navigator.share) navigator.share({title: document.title, text: txt, url: location.href}).catch(()=>{});
  else window.prompt('Copy and share', txt + '\n' + location.href);
});

/* keyboard navigation */
document.addEventListener('keydown', (e)=>{
  if (mainSection.style.display === 'block'){
    if (e.key === 'ArrowRight') btnNext.click();
    if (e.key === 'ArrowLeft') btnPrev.click();
  }
});

/* DOMContentLoaded: show resume banner if needed and set mp link only later */
document.addEventListener('DOMContentLoaded', ()=>{
  injectResumeBanner();
  // set payment link when results show (prevents any payment text showing on splash/main before finish)
  mpLinkEl.href = MP_LINK;
  // If the user previously paid, auto-reveal report when they press "I've paid" (we keep paid flag) --
  // but we don't auto-open the result block; it appears after Finish as normal.
  if (localStorage.getItem(STORAGE_KEY_PAID) === 'true') paid = true;
});

/* End of script */
</script>
</body>
</html>