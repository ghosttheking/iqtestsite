<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>IQ Test — Discover your potential / Teste de QI</title>
<meta name="description" content="Quick 35-question IQ test. Save progress, unlock full report after payment." />
<style>
:root{
  --bg1:#071a52; --accent1:#0b66ff; --accent2:#63a4ff; --card:#ffffff; --muted:#6b7280;
}
*{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
html,body{height:100%; margin:0;}
body{
  background:linear-gradient(180deg,var(--bg1),#0b1b45 60%);
  color:#0b1b2e;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:18px;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* APP WRAPPER */
.app{width:100%; max-width:920px; background:var(--card); border-radius:14px; box-shadow:0 20px 60px rgba(2,6,23,0.35); overflow:hidden;}

/* SPLASH */
.splash{
  background:linear-gradient(90deg,var(--accent1),var(--accent2));
  color:white;
  padding:34px 28px;
  text-align:center;
}
.logo{width:86px;height:86px;border-radius:16px;background:rgba(255,255,255,0.12);display:inline-flex;align-items:center;justify-content:center;font-weight:800;font-size:28px;margin-bottom:14px;}
.title{font-size:24px;margin:0 0 8px;}
.subtitle{font-size:14px;opacity:0.95;margin:0 0 14px;line-height:1.4;}
.cta-row{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:10px;}
.btn-primary{background:#fff;color:var(--accent1);border:none;padding:12px 18px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(11,102,255,0.12);}
.btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.18);color:#fff;padding:10px 14px;border-radius:10px;cursor:pointer;}
.animated-dots{margin-top:8px;}
.dot{display:inline-block;width:8px;height:8px;margin:0 4px;border-radius:50%;background:rgba(255,255,255,0.9);opacity:0.4;animation:blink 1.2s infinite ease-in-out;}
.dot:nth-child(2){animation-delay:.15s}.dot:nth-child(3){animation-delay:.3s}
@keyframes blink{0%{opacity:.2;transform:translateY(0)}50%{opacity:1;transform:translateY(-6px)}100%{opacity:.2;transform:translateY(0)}}

/* MAIN */
.main{padding:22px 26px;}
.topbar{display:flex;gap:12px;align-items:center;justify-content:space-between;}
.brand{display:flex;gap:12px;align-items:center;}
.brand .mini{width:44px;height:44;border-radius:10px;background:linear-gradient(90deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;color:white;font-weight:800;}
.lang{margin-left:auto;font-size:13px;}
.lead{color:var(--muted); margin-top:10px; font-size:15px;}

/* QUIZ */
.quiz{margin-top:18px;min-height:220px;}
.question-card{background:#fff;padding:18px;border-radius:12px;border:1px solid #eef2ff;box-shadow:0 6px 18px rgba(11,102,255,0.03);}
.q-title{font-weight:700;font-size:18px;margin-bottom:12px;color:#0b1b2e;}
.choices{display:grid; grid-template-columns:1fr 1fr; gap:12px;}
.choice{padding:12px;border-radius:10px;border:1px solid #e6eefc;background:#fff;cursor:pointer;transition:all .12s;font-size:15px;}
.choice:hover{transform:translateY(-4px); background:#f6fbff;}
.choice.selected{background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:white; border-color:transparent; box-shadow:0 8px 20px rgba(11,102,255,0.12);}
.choice.correct{animation:correctAnim 0.4s;}
.choice.wrong{animation:wrongAnim 0.4s;}
@keyframes correctAnim{0%{transform:scale(1);}50%{transform:scale(1.08);}100%{transform:scale(1);}}
@keyframes wrongAnim{0%{transform:scale(1);}50%{transform:scale(0.95) rotate(-5deg);}100%{transform:scale(1);}}

.footer{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:16px;flex-wrap:wrap;}
.progress-wrap{display:flex;gap:12px;align-items:center;}
.progress-bar{width:220px;height:10px;background:#eef2ff;border-radius:8px;overflow:hidden;}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent2),var(--accent1));width:0%;transition:width .35s;}
.counter{font-size:13px;color:var(--muted);}
.controls{display:flex;gap:8px;align-items:center;}
.btn-small{background:var(--accent1);color:white;border:none;padding:9px 12px;border-radius:9px;cursor:pointer;font-weight:700;}
.btn-outline{background:transparent;border:1px solid #e6eefc;padding:8px 12px;border-radius:9px;cursor:pointer;color:#0b1b2e;}

/* RESULT */
.result-card{margin-top:18px;background:#f8fbff;padding:18px;border-radius:12px;border:1px dashed #e6eefc; display:none;}
.small{font-size:13px;color:var(--muted);}
.pay-wrap{margin-top:12px;display:flex;gap:10px;align-items:center;flex-wrap:wrap;}
.pay-button{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white;padding:12px 18px;border-radius:12px;text-decoration:none;font-weight:800;box-shadow:0 10px 30px rgba(11,102,255,0.12);}

.report{margin-top:14px;display:none;background:#fff;padding:16px;border-radius:10px;border:1px solid #eef6ff;}
.report h3{color:var(--accent1);margin:0 0 8px 0;}
.report p{color:#233;line-height:1.45;}
@media(max-width:520px){.choices{grid-template-columns:1fr}.progress-bar{width:140px}.lead{font-size:14px}.title{font-size:20px}}
</style>
</head>
<body>
<div class="app" role="application">
  <section id="splash" class="splash">
    <div style="padding:26px 20px;text-align:center;">
      <div class="logo">IQ</div>
      <div class="title">Discover your true IQ</div>
      <div class="subtitle">35 quick questions • Takes ~6–8 minutes • Immediate private result</div>
      <div class="animated-dots"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
      <div class="cta-row" style="margin-top:18px;">
        <button id="startBtn" class="btn-primary">Start Test</button>
        <button id="startDemo" class="btn-ghost">Learn how it works</button>
      </div>
      <div id="promo" style="margin-top:12px;color:rgba(255,255,255,0.9);font-size:13px">
        Special offer: Unlock full report for <strong>$13</strong> (was $50)
      </div>
    </div>
  </section>

  <section id="main" class="main" style="display:none">
    <div class="topbar">
      <div class="brand">
        <div class="mini">IQ</div>
        <div>
          <div style="font-weight:800;font-size:18px">IQ Test — Discover your potential</div>
          <div class="small" id="subLead">Answer 35 short questions — your progress saves automatically.</div>
        </div>
      </div>
      <div class="lang">
        <label for="langSelect" class="small" style="margin-right:6px">Language</label>
        <select id="langSelect" aria-label="Language selector">
          <option value="en">English</option>
          <option value="pt">Português</option>
        </select>
      </div>
    </div>

    <div class="lead" id="leadText">This test is anonymous and estimates your cognitive strengths. Try to answer without overthinking.</div>

    <div class="quiz" id="quiz"></div>

    <div class="footer">
      <div class="progress-wrap">
        <div class="counter"><span id="qcount">1</span>/35</div>
        <div class="progress-bar"><div id="progressFill" class="progress-fill"></div></div>
      </div>
      <div class="controls">
        <button id="btnPrev" class="btn-outline">Previous</button>
        <button id="btnNext" class="btn-small">Next</button>
        <button id="btnFinish" class="btn-small" title="Finish test and see payment">Finish</button>
      </div>
    </div>

    <div id="resultBlock" class="result-card">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
        <div>
          <div class="small">You answered</div>
          <div style="font-weight:800;font-size:18px" id="scoreText">-- / 35</div>
          <div class="small" id="performanceText">Performance: —</div>
        </div>
        <div style="text-align:right">
          <div class="small" id="unlockNote">Unlock full & detailed report</div>
          <a id="mpLink" class="pay-button" href="https://mpago.la/2UqEUEx" target="_blank" rel="noopener">Pay $13 & Unlock</a>
          <div style="margin-top:8px" class="small">After payment click "I've paid" to show your report.</div>
          <div style="margin-top:8px"><button id="btnIvePaid" class="btn-outline">I've paid</button></div>
        </div>
      </div>
      <div id="report" class="report" aria-live="polite">
        <h3 id="reportTitle">Full Report</h3>
        <p id="reportBody"></p>
        <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
          <button id="btnShare" class="btn-small">Share</button>
          <button id="btnCopy" class="btn-outline">Copy result</button>
        </div>
      </div>
    </div>

    <div style="padding:18px 0;text-align:center;color:var(--muted);font-size:13px">© 2025 — IQ Test</div>
  </section>
</div>

<script>
const MP_LINK = "https://mpago.la/2UqEUEx";
const STORAGE_KEY = 'iq_v3_answers';
const STORAGE_PAID = 'iq_v3_paid';
let lang = localStorage.getItem('iq_lang') || 'en';
let current = 0;
let answers = new Array(35).fill(null);
let paid = localStorage.getItem(STORAGE_PAID)==='true';

const QUESTIONS=[
{q:"1. Which number comes next: 2, 4, 8, 16, ?",choices:["18","24","32","34"],correct:2},
{q:"2. DOG is to MAMMAL as SWALLOW is to ?",choices:["FISH","BIRD","REPTILE","INSECT"],correct:1},
{q:"3. Which does NOT belong: square, rectangle, circle, diamond?",choices:["square","rectangle","circle","diamond"],correct:2},
{q:"4. Solve: 7 × 6 − 8 =",choices:["34","36","38","40"],correct:0},
{q:"5. Which word does not fit: pen, pencil, notebook, ruler?",choices:["pen","pencil","notebook","ruler"],correct:2},
{q:"6. If today is Tuesday, what day will it be in 3 days?",choices:["Friday","Thursday","Saturday","Wednesday"],correct:2},
{q:"7. Next number: 1,1,2,3,5,8,?",choices:["10","11","12","13"],correct:3},
{q:"8. If all roses are flowers and some flowers wilt, can we say all roses wilt?",choices:["Yes","No","Sometimes","Impossible to know"],correct:1},
{q:"9. Synonym of 'fast'?",choices:["Slow","Quick","Weak","Morbid"],correct:1},
{q:"10. Train leaves at 10 and travels 120 km in 2 hours. Average speed?",choices:["40 km/h","50 km/h","60 km/h","70 km/h"],correct:2},
{q:"11. If A > B and B > C, then A is ____ C.",choices:["smaller than","greater than","equal to","not related"],correct:1},
{q:"12. Complete the rhyme: 'Cat on the roof, mouse on the ___.'",choices:["peak","hole","bread","frog"],correct:0},
{q:"13. Which number is prime?",choices:["21","29","27","33"],correct:1},
{q:"14. If tomorrow is Thursday, what day is today?",choices:["Friday","Wednesday","Tuesday","Sunday"],correct:1},
{q:"15. How many sides does a hexagon have?",choices:["5","6","7","8"],correct:1},
{q:"16. If 5 shirts cost 100, how much is one?",choices:["10","15","20","25"],correct:2},
{q:"17. Analogy: 'Key is to door' as 'pen is to ___'",choices:["paper","book","ink","writing"],correct:3},
{q:"18. Solve: (9 + 3) ÷ 3 =",choices:["2","3","4","6"],correct:2},
{q:"19. Which figure follows: circle, square, circle, square, ?",choices:["circle","triangle","rectangle","pentagon"],correct:0},
{q:"20. If 2x = 10, x = ?",choices:["4","5","6","8"],correct:1},
{q:"21. Opposite of 'optimistic'?",choices:["positive","pessimistic","happy","active"],correct:1},
{q:"22. What number is missing: 10, 7, 4, ?, -2",choices:["1","0","-1","2"],correct:0},
{q:"23. If 3=C, 1=A, 20=T, what word is 20-1-3-8-15?",choices:["TACHO","TACOS","TACOH","TACOS"],correct:1},
{q:"24. Result of 12 - (3×2)?",choices:["4","6","8","10"],correct:2},
{q:"25. Which letter completes: A, C, E, G, ?",choices:["I","H","J","K"],correct:0},
{q:"26. Map scale: 1 cm = 10 km. 3 cm = ? km",choices:["10","20","30","40"],correct:2},
{q:"27. Which is greater: 0.75 or 3/4?",choices:["0.75","3/4","they are equal","not possible"],correct:2},
{q:"28. 'Water is to thirst as food is to ___.'",choices:["sleep","hunger","light","heat"],correct:1},
{q:"29. How many degrees in a right angle?",choices:["45°","60°","90°","180°"],correct:2},
{q:"30. João has 3x oranges, gives x to Maria and x to Pedro, left with x. How many did he have?",choices:["2x","3x","4x","x"],correct:1},
{q:"31. Synonym of 'intelligent'?",choices:["Smart","Dull","Slow","Heavy"],correct:0},
{q:"32. Which is NOT an even number?",choices:["2","4","7","10"],correct:2},
{q:"33. Which shape has 3 sides?",choices:["Triangle","Square","Circle","Rectangle"],correct:0},
{q:"34. Reverse: 'stressed'",choices:["desserts","stressed","depressed","rested"],correct:0},
{q:"35. What comes next: 5, 10, 20, 40, ?",choices:["50","70","80","80"],correct:2}
];

const TRANS = {
  en:{start:"Start Test",demo:"Learn how it works",lead:"This test is anonymous and estimates your cognitive strengths. Try to answer without overthinking.",unlock:"Unlock full & detailed report",pay:"Pay $13 & Unlock"},
  pt:{start:"Iniciar Teste",demo:"Veja como funciona",lead:"Este teste é anônimo e estima suas habilidades cognitivas. Tente responder sem pensar demais.",unlock:"Desbloqueie relatório completo",pay:"Pagar $13 & Desbloquear"}
};

function initLang(){
  document.getElementById('startBtn').textContent = TRANS[lang].start;
  document.getElementById('startDemo').textContent = TRANS[lang].demo;
  document.getElementById('leadText').textContent = TRANS[lang].lead;
  document.getElementById('unlockNote').textContent = TRANS[lang].unlock;
  document.getElementById('mpLink').textContent = TRANS[lang].pay;
}

document.getElementById('langSelect').value = lang;
document.getElementById('langSelect').addEventListener('change',e=>{
  lang = e.target.value;
  localStorage.setItem('iq_lang',lang);
  initLang();
});
initLang();

// Splash -> Main
document.getElementById('startBtn').addEventListener('click',()=>{
  document.getElementById('splash').style.display='none';
  document.getElementById('main').style.display='block';
  loadQuiz();
});

function loadQuiz(){
  const quizEl = document.getElementById('quiz');
  quizEl.innerHTML='';
  QUESTIONS.forEach((q,i)=>{
    const div = document.createElement('div');
    div.className='question-card';
    div.dataset.index=i;
    div.innerHTML=`<div class="q-title">${q.q}</div><div class="choices"></div>`;
    const chEl = div.querySelector('.choices');
    q.choices.forEach((c,j)=>{
      const btn = document.createElement('div');
      btn.className='choice';
      btn.textContent=c;
      btn.addEventListener('click',()=>selectAnswer(i,j,btn));
      chEl.appendChild(btn);
    });
    quizEl.appendChild(div);
    if(i!==0) div.style.display='none';
  });
  updateFooter();
}

function selectAnswer(qi,chIdx,btn){
  answers[qi]=chIdx;
  const card = btn.parentElement;
  Array.from(card.querySelectorAll('.choice')).forEach(c=>c.classList.remove('selected','correct','wrong'));
  if(chIdx===QUESTIONS[qi].correct){
    btn.classList.add('correct','selected');
  } else { btn.classList.add('wrong','selected'); }
}

function updateFooter(){
  document.getElementById('qcount').textContent = current+1;
  document.getElementById('progressFill').style.width = ((current+1)/QUESTIONS.length*100)+'%';
}

document.getElementById('btnNext').addEventListener('click',()=>{
  if(current<QUESTIONS.length-1){
    document.querySelector(`.question-card[data-index="${current}"]`).style.display='none';
    current++;
    document.querySelector(`.question-card[data-index="${current}"]`).style.display='block';
    updateFooter();
  }
});
document.getElementById('btnPrev').addEventListener('click',()=>{
  if(current>0){
    document.querySelector(`.question-card[data-index="${current}"]`).style.display='none';
    current--;
    document.querySelector(`.question-card[data-index="${current}"]`).style.display='block';
    updateFooter();
  }
});

// Finish
function finishQuiz(){
  const score = answers.reduce((a,v,i)=>a + (v===QUESTIONS[i].correct?1:0),0);
  document.getElementById('scoreText').textContent = score+' / 35';
  let perf = '';
  if(score>=30) perf='Excellent';
  else if(score>=25) perf='Very Good';
  else if(score>=20) perf='Good';
  else if(score>=15) perf='Average';
  else perf='Below Average';
  document.getElementById('performanceText').textContent = 'Performance: '+perf;
  document.getElementById('resultBlock').style.display='block';
}
document.getElementById('btnFinish').addEventListener('click',finishQuiz);

// Paid report
document.getElementById('btnIvePaid').addEventListener('click',()=>{
  paid=true;
  localStorage.setItem(STORAGE_PAID,'true');
  showReport();
});

function showReport(){
  if(!paid) return;
  const rep = document.getElementById('report');
  let txt='';
  QUESTIONS.forEach((q,i)=>{
    const ans = answers[i]!=null ? q.choices[answers[i]] : "No answer";
    const correct = q.choices[q.correct];
    txt+=`${i+1}. ${q.q}\nYour answer: ${ans}\nCorrect: ${correct}\n\n`;
  });
  document.getElementById('reportBody').textContent=txt;
  rep.style.display='block';
}

document.getElementById('btnShare').addEventListener('click',()=>{alert('Share link copied!')});
document.getElementById('btnCopy').addEventListener('click',()=>{navigator.clipboard.writeText(document.getElementById('reportBody').textContent); alert('Report copied to clipboard');});
</script>
</body>
</html>